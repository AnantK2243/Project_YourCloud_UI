<div>
	<h2>Login</h2>

	<!-- Messages -->
	<div *ngIf="infoMessage">
		{{ infoMessage }}
	</div>
	<div *ngIf="successMessage">
		{{ successMessage }}
	</div>
	<div *ngIf="errorMessage">
		{{ errorMessage }}
	</div>

	<form (ngSubmit)="onLogin()" #loginForm="ngForm">
		<!-- Email Field -->
		<div>
			<label for="email">Email:</label>
			<input
				type="email"
				id="email"
				name="email"
				[(ngModel)]="email"
				placeholder="Enter your email"
				(input)="onFieldChange('email', email)"
				(blur)="onFieldBlur('email')"
				[class]="getFieldClass('email')"
				required
				autocomplete="email"
			/>
			<div *ngIf="hasFieldError('email')">
				<div *ngFor="let error of getFieldErrors('email')">
					{{ error }}
				</div>
			</div>
		</div>

		<!-- Password Field -->
		<div>
			<label for="password">Password:</label>
			<input
				type="password"
				id="password"
				name="password"
				[(ngModel)]="password"
				placeholder="Enter your password"
				(input)="onFieldChange('password', password)"
				(blur)="onFieldBlur('password')"
				[class]="getFieldClass('password')"
				required
				autocomplete="current-password"
			/>
			<div *ngIf="hasFieldError('password')">
				<div *ngFor="let error of getFieldErrors('password')">
					{{ error }}
				</div>
			</div>
		</div>

		<!-- Submit Button -->
		<div>
			<button type="submit" [disabled]="isSubmitting || !isFormValid()">
				<span *ngIf="isSubmitting">Logging in...</span>
				<span *ngIf="!isSubmitting">Login</span>
			</button>
			<button type="button" (click)="goToRegister()">
				Go to Register
			</button>
		</div>
	</form>

	<div *ngIf="infoMessage" class="info-message">
		<p>{{ infoMessage }}</p>
	</div>

	<div *ngIf="errorMessage" class="error-message">
		<p>{{ errorMessage }}</p>
	</div>

	<div *ngIf="successMessage" class="success-message">
		<p>{{ successMessage }}</p>
	</div>
</div>

<div>
	<h2>Register</h2>

	<!-- Messages -->
	<div *ngIf="successMessage">
		{{ successMessage }}
	</div>
	<div *ngIf="errorMessage">
		{{ errorMessage }}
	</div>

	<form (ngSubmit)="onRegister()" #registerForm="ngForm">
		<!-- Name Field -->
		<div>
			<label for="name">Name:</label>
			<input
				type="text"
				id="name"
				name="name"
				[(ngModel)]="name"
				placeholder="Enter your name"
				(input)="onFieldChange('name', name)"
				(blur)="onFieldBlur('name')"
				[class]="getFieldClass('name')"
				required
			/>
			<div *ngIf="hasFieldError('name')">
				<div *ngFor="let error of getFieldErrors('name')">
					{{ error }}
				</div>
			</div>
		</div>

		<!-- Email Field -->
		<div>
			<label for="email">Email:</label>
			<input
				type="email"
				id="email"
				name="email"
				[(ngModel)]="email"
				placeholder="Enter your email"
				(input)="onFieldChange('email', email)"
				(blur)="onFieldBlur('email')"
				[class]="getFieldClass('email')"
				required
			/>
			<div *ngIf="hasFieldError('email')">
				<div *ngFor="let error of getFieldErrors('email')">
					{{ error }}
				</div>
			</div>
		</div>

		<!-- Password Field -->
		<div>
			<label for="password">Password:</label>
			<input
				type="password"
				id="password"
				name="password"
				[(ngModel)]="password"
				placeholder="Enter your password"
				(input)="onFieldChange('password', password)"
				(focus)="onFieldFocus('password')"
				(blur)="onFieldBlur('password')"
				[class]="getFieldClass('password')"
				required
			/>
			<div *ngIf="password && touched['password']">
				Password strength: {{ getPasswordStrengthText() }}
			</div>
			<div *ngIf="hasFieldError('password')">
				<div *ngFor="let error of getFieldErrors('password')">
					{{ error }}
				</div>
			</div>
		</div>

		<!-- Confirm Password Field -->
		<div>
			<label for="confirmPassword">Confirm Password:</label>
			<input
				type="password"
				id="confirmPassword"
				name="confirmPassword"
				[(ngModel)]="confirmPassword"
				placeholder="Confirm your password"
				(input)="onFieldChange('confirmPassword', confirmPassword)"
				(blur)="onFieldBlur('confirmPassword')"
				[class]="getFieldClass('confirmPassword')"
				required
			/>
			<div *ngIf="hasFieldError('confirmPassword')">
				<div *ngFor="let error of getFieldErrors('confirmPassword')">
					{{ error }}
				</div>
			</div>
		</div>

		<!-- Submit Button -->
		<button type="submit" [disabled]="isSubmitting || !isFormValid()">
			<span *ngIf="isSubmitting">Registering...</span>
			<span *ngIf="!isSubmitting">Register</span>
		</button>
	</form>

	<div>
		<p>
			Already have an account?
			<button type="button" (click)="goToLogin()">Login here</button>
		</p>
	</div>
</div>
